var test    = require('tape');
var decache = require('decache');

decache('../lib/env.js');    // delete any previously cached version
decache('../../lib/env.js'); // delete alias from require cache

// delete all env vars from any previous test to ensure it works!
Object.keys(process.env).forEach(function(k){ delete process.env[k] });

require('../../lib/env.js')(); // local NO filepath argument! :-O

test("Require env2 without a .env file argument", function(t) {
  t.ok(process.env.EVERYTHING === 'AWESOME',
  'Worked! Everything is: '+process.env.EVERYTHING)

  decache('../lib/env.js');    // delete any previously cached version
  decache('../../lib/env.js'); // delete alias from require cache
  t.end();
});
